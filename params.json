{
  "name": "Moed task1",
  "tagline": "Phisical spectrum modulation program on python and ROOT",
  "body": "# Task1\r\n\r\nTask1 is the open source project for spectrum modulation designed by Dvoiak Stepan,  \r\nKiev National University student for MOED course.  \r\nThis program can modulate peaks, compton and background by parameters.\r\n\r\n\r\n## Getting Started\r\n\r\nClone this repo to your local machine:\r\n\r\n```\r\n$ git clone https://github.com/oyvsyo/moed_task1.git\r\n```\r\nTo start nodulation jus run this command in terminal (bash shell or mac shell) in project directory:\r\n\r\n```\r\n$ python2 task1.py\r\n```\r\nYou will see two windows (left - for config window, rigth - for drawing spectrums).  \r\nIn config window you can set parameters of spectrums, load configurations, save configuration,\r\n save spectrums in txt file and eps pictures.    \r\n\r\n## Default parameters\r\n\r\nTo draw simple default specters just press red button <kbd>Draw</kbd>.  \r\nYou got spectrums on canvas (drawing window)  \r\nIf you want to clear all entries - press pink button <kbd>Clear All</kbd>.  \r\nIf you want to set defaul parameters again - press <kbd>Default</kbd> button.  \r\n\r\n## Your own configuration\r\n\r\nThe best way to set you own spectrum parameters - it's change defaul!   \r\nAll rules and sintaxys diclarated in next paragraf.\r\n  \r\nAlso, you can write config file manualy (syntaxis - like json  \r\nor standart python dict)  \r\nTo load your file - simply open menu <kbd>File->Open config</kbd>\r\n\r\n## The rules of config file\r\nConcept of config file is python dict - structure of  \"key\": \"value\"  \r\npairs.\r\nThere are 6 keys of parameters:\r\n* __interval__ - the python list of two values: minimum and maximum  \r\nof Energy range of investigated spectrum `[Emin, Emax]` (*unsigned float*)\r\n* __num_bin__ - number channels (*unsigned interer*)\r\n* __peaks__ - it's a python list of three dimentional lists with peaks   \r\nparameters values `[Intensity(1/s), Energy(keV), FWMH(keV)] `(*unsigned float*)  \r\n* __opt1__ - optional chose for FWHM simulation (integer 1 or 0), if 0 - FWHM gets   \r\nfrom last peak parameters, if 1 - FWHM is calculated by formula: <kbd>a0+a1*sqrt(E)</kbd>\r\n* __FWHM_pars__ - the parameters of FWHM formula `[a0, a1]` (*float numbers*)\r\n* __background__ - parameters of background simulation formula:   \r\n<kbd>a\\*exp(b* E) + c+d* E</kbd> (*float numbers*)\r\n\r\n>Notice! Its not recomendet to set `num_bin` parameter over 1000.   \r\n>Calculating can take too much time (4 seconds on my computer).  \r\n>Operations numbers increase like (num_bin)^2 times.\r\n\r\nAlso you can comment some text with `\"<\"` and `\">\"` symbols like:  \r\n`<comment here>`.\r\n\r\n>Notice! You can't use `\"<\"` and `\">\"` symbols inside comment.\r\n\r\nAn example of default confuguration file:\r\n```\r\n<spectrum simulation>\r\n<config file example>\r\n<after square brackets \"[..]\" always put \",\">\r\n<all parameters must be set>\r\n{\r\n    <Energy(keV) range - must be positive:>\r\n    'interval': [50, 3000],\r\n    <number of bins (put \",\" after bin number value):>\r\n    <must be positive int number>\r\n    'num_bin': 300,\r\n\r\n    <peaks parameters sets in square brackets>\r\n    <in defined order: [Intensity(1/s), Energy(keV), FWMH(keV)]>\r\n    <peaks parameters must be positive>\r\n    'peaks':[\r\n        [15000, 2000.89, 150.8],\r\n        [14000, 1400.5, 135.0],\r\n        [13000, 1000, 131.0],\r\n        [17000, 1200, 75.0],\r\n        [12000, 2999, 50.0],\r\n    ],\r\n\r\n    <optional chose for FWMH simulation>\r\n    < 0 - FWMH is set from peak parameters>\r\n    < 1 - calculating by formula: FWHM = a0+a1*sqrt(E)>\r\n    <after opt1 value put \",\">\r\n    \"opt1\": 1,\r\n\r\n    <set the FWMH params for formula FWHM = a0+a1*sqrt(E)>\r\n    <if opt1=1 [a0, a1]:>\r\n    \"FWHM_pars\": [0.5, 1],\r\n\r\n    <background parameters [a, b, c, d] : a*exp(b*E) + c+d*E>\r\n    <parameter 'a' must be positive>\r\n    'background': [40, -0.01, 50, -0.005],\r\n}\r\n\r\n```\r\n\r\n>Notice! The config file must have `.txt` exestention\r\n\r\n## Using GUI\r\nThe main logic based on config file syntax.  \r\nThe simplest way - just edit default parameters!  \r\n\r\nTo set parameters with GUI you need to know some rules:  \r\n1. All entries are required.  \r\n2. Enter the vaule of \"key\":\"value\" pairs from config file.   \r\n3. If key value is list - write parameters in list format (like [a, b, c]).    \r\n4. For FWMH simulation by formula: FWHM = a0+a1*sqrt(E) just check   \r\n<kbd>FWHM optin calculate</kbd> checkbuttun   \r\n5. Other parameters sets like vaule vor keys in config file dict.\r\n\r\n>Notice! GUI does not support comments.\r\n\r\nExample for peak entry:  \r\n```\r\n[[14000, 2700.89, 110.8]\r\n [16000, 700.5, 135.0]\r\n [17000, 1600, 75.0]]\r\n```\r\n>Ntice: for peaks its not nessecery to write `\",\"` after `\"]\"`\r\n  \r\nTo save your comfiguration press <kbd>File->Save config as..</kbd>  \r\nand enter name.\r\n\r\n## Saving results of simulation\r\nTo save a pictures and .txt files of simulated spectrum press   \r\n<kbd>File->Save output to..</kbd>  and write a path to directory that   \r\nwill be created for yuor output files (dir name - *name_out*).  \r\nYou can find 4 eps pictures and 4 txt spectrum files. (txt files - its\r\ntwo columns of float numbers - first - energy, second - counts).\r\n\r\n\r\n\r\n### Requirments\r\nThis software is require python 2.7* versions, some standart for ubuntu 14.04 python librarys:\r\n- math\r\n- re\r\n- os\r\n- ast\r\n- sys\r\n- Tkinter\r\n- tkFileDialog\r\n- tkMessageBox   \r\n\r\nThere are one non standart library:\r\n- numpy 1.8.2\r\n\r\nAnd tha main core of simulation - __ROOT__.\r\n>Notice! For using this program you must have ROOT classes avaliable in python scope. Read more about [PyRoot](https://root.cern.ch/pyroot)\r\n\r\n>Notice! ROOT 5.* versions are required (probably must works on 6.* versions, but not tested)\r\n\r\n>Tested on ubuntu 14.04 whith python 2.7.6 and ROOT 5.34/36, gcc 4.8.4 \r\n\r\n## Authors\r\n\r\n**Dvoiak Stepan** - [oyvsyo](https://github.com/oyvsyo)\r\n\r\n## License\r\n\r\nThis project is licensed under the GNU GENERAL PUBLIC LICENSE - see the [LICENSE](LICENSE) file for details",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}